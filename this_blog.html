<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2020-01-30 qui 12:07 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How I made this blog</title>
<meta name="generator" content="Org mode">
</head>
<body>
<div id="content">
<h1 class="title">How I made this blog</h1>
<p>
This blog was made using Emacs Orgmode. Usually Orgmode exports not-the-prettiest html files with many lines containing non useful information. Therefore, to make this minimal blog that you are reading now I simply removed these metadata and kept only the relevant stuff.
</p>

<p>
By relevant stuff I mean:
</p>
<ul class="org-ul">
<li>Insert figures, usual html stuff</li>
<li>Coding blocks (using built-in org-blocks)</li>
<li>Math (with MathJax)</li>
</ul>

<p>
This is the minimal configuration that you need to export a html like this.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr"> 1: </span>'(org-html-creator-string "")
<span id="coderef-html5" class="coderef-off"><span class="linenr"> 2: </span>'(org-html-doctype "html5")</span>
<span class="linenr"> 3: </span>'(org-html-head-include-default-style nil)
<span class="linenr"> 4: </span>'(org-html-head-include-scripts nil)
<span class="linenr"> 5: </span>'(org-html-htmlize-output-type nil)
<span class="linenr"> 6: </span>'(org-html-infojs-template "")
<span class="linenr"> 7: </span>'(org-html-mathjax-options
<span class="linenr"> 8: </span>  (quote
<span id="coderef-mathjax" class="coderef-off"><span class="linenr"> 9: </span>   ((path "http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML")</span>
<span class="linenr">10: </span>    (scale "100")
<span class="linenr">11: </span>    (align "center")
<span class="linenr">12: </span>    (font "TeX")
<span class="linenr">13: </span>    (linebreaks "false")
<span class="linenr">14: </span>    (autonumber "AMS")
<span class="linenr">15: </span>    (indent "0em")
<span class="linenr">16: </span>    (multlinewidth "85%")
<span class="linenr">17: </span>    (tagindent ".8em")
<span class="linenr">18: </span>    (tagside "right"))))
<span class="linenr">19: </span>'(org-html-postamble nil)
<span class="linenr">20: </span>'(org-html-postamble-format nil)
<span class="linenr">21: </span>'(org-html-preamble nil)
<span class="linenr">22: </span>'(org-html-with-latex (quote mathjax))
<span class="linenr">23: </span>'(org-html-xml-declaration nil)
</pre>
</div>

<p>
Note that this is mostly cleaning up the mess that Orgmode has built-in, enabling html5^<a href="#coderef-html5" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-html5');" onmouseout="CodeHighlightOff(this, 'coderef-html5');">2</a> and updating MathJax^<a href="#coderef-mathjax" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-mathjax');" onmouseout="CodeHighlightOff(this, 'coderef-mathjax');">9</a> to latest version.
</p>

<p>
For hosting this web page, as of 2020 I am using github pages. I can maintain the blog with magit and edit the content from the org files. When I want to update or create a new post I do the following
</p>

<ul class="org-ul">
<li>Create/edit file</li>
<li>Check offline if the formatting and content looks good</li>
<li>Make the all the links necessary with Orgmode "[[]]"</li>
</ul>

<p>
Then I run the following script adapted from <a href="https://emacs.stackexchange.com/a/7605">here</a> to export all the org files in the directory to html.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(save-excursion
  (mapc (lambda(orgfile)
          (find-file orgfile)
          (org-html-export-to-html))
    (file-expand-wildcards "*.org")))
</pre>
</div>

<p>
Although the looks of the html when using this script is different from using the org dispatch function (I am still working on a solution to this which doesn't require manually specifying the looks of the page). 
</p>

<p>
Finally we need to push it, I just put all the *.org files in my .gitignore and let magit do its magit.
</p>
</div>
</body>
</html>
